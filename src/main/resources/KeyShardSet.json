{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "definitions": {},
  "id": "https://github.com/mgrand/crypto-shuffle/keyShardSet",
  "properties": {
    "encryptionAlgorithm": {
      "pattern":"^RSA$"
    },
    "decryptedShards": {
      "id": "/properties/decryptedShards",
      "items": {
        "description": "Values of shards that have been decrypted.",
        "id": "/properties/decryptedShards/items",
        "type": "string"
      },
      "type": "array"

    },
    "groups": {
      "id": "/properties/groups",
      "items": {
        "id": "/properties/groups/items",
        "properties": {
          "keyMap": {
            "id": "/properties/groups/items/properties/keyMap",
            "items": {
              "id": "/properties/groups/items/properties/keyMap/items",
              "properties": {
                "publicKey": {
                  "id": "/properties/groups/items/properties/keyMap/items/properties/publicKey",
                  "description":"base-64 encoded public key",
                  "type": "string"
                },
                "shards": {
                  "items": {
                    "id": "/properties/groups/items/properties/keyMap/items/properties/shards/items",
                    "properties": {
                      "encryptedShard": {
                        "id": "/properties/groups/items/properties/keyMap/items/properties/shards/items/properties/encryptedShard",
                        "minLength": 1,
                        "type": "string",
                        "description":"base64 encoded encrypted shard"
                      },
                      "shardPosition": {
                        "id": "/properties/groups/items/properties/keyMap/items/properties/shards/items/properties/shardPosition",
                        "minimum": 0,
                        "type": "integer"
                      }
                    },
                    "required": [
                      "shardPosition",
                      "encryptedShard"
                    ],
                    "type": "object"
                  },
                  "type": "array",
                  "minItems":1
                }
              },
              "required": [
                "publicKey",
                "shards"
              ],
              "type": "object"
            },
            "minItems": 1,
            "type": "array"
          },
          "quorumSize": {
            "default": 1,
            "id": "/properties/groups/items/properties/quorumSize",
            "minimum": 1,
            "type": "integer"
          }
        },
        "required": [
          "quorumSize",
          "keyMap"
        ],
        "type": "object"
      },
      "type": "array",
      "minItems":1,
      "uniqueItems":true
    },
    "shardCount": {
      "id": "/properties/shardCount",
      "minimum": 1,
      "type": "integer"
    },
    "uuid": {
      "id": "/properties/uuid",
      "type":"string",
      "minLength": 6
    },
    "version": {
      "pattern": "1.0",
      "description": "The schema version that is conformed to.",
      "id": "/properties/version",
      "type": "string"
    }
  },
  "required": [
    "version",
    "encryptionAlgorithm",
    "groups",
    "shardCount",
    "uuid"
  ],
  "type": "object"
}